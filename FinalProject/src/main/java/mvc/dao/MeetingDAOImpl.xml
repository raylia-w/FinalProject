<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mvc.dao.MeetingDAO">
	<select id="getMeetingList"
			parameterType="mvc.dto.Groups"
			resultType="mvc.dto.Meeting_reservation">
			SELECT * FROM meeting_reservation WHERE group_no = #{group_no} ORDER BY meeting_no DESC
	</select>
<!-- 	<select id="getMeetingGuest" -->
<!-- 			parameterType="mvc.dto.Meeting_reservation" -->
<!-- 			resultType="mvc.dto.Users"> -->
<!-- 			SELECT * FROM meeting_guest WHERE meeting_no=#{meeting_no} ORDER BY user_id -->
<!-- 	</select> -->
	<select id="getCurrentMeeting"
			parameterType="mvc.dto.Groups"
			resultType="mvc.dto.Meeting_reservation">
			SELECT * FROM (SELECT * FROM meeting_reservation WHERE group_no = #{group_no} ORDER BY meeting_no DESC) WHERE ROWNUM=1
	</select>
	<select id="getMeetingInfo"
			parameterType="mvc.dto.Meeting_reservation"
			resultType="mvc.dto.Meeting_reservation">
			SELECT * FROM meeting_reservation WHERE meeting_no = #{meeting_no}
	</select>
	<insert id="insertMeeting"
			parameterType="mvc.dto.Meeting_reservation">
			INSERT INTO meeting_reservation(meeting_no, date_start, date_end, reservation_location, personnel, group_no, status, guest, res_day, fee) VALUES(meeting_no_seq.nextval, #{date_start}, #{date_end}, #{reservation_location}, #{personnel}, #{group_no}, #{status}, 0, #{res_day}, #{fee})
	</insert>
	<update id="updateMeeting"
			parameterType="mvc.dto.Meeting_reservation">
			
	</update>
	<delete id="deleteMeeting"
			parameterType="mvc.dto.Meeting_reservation">
			DELETE FROM meeting_reservation WHERE meeting_no = #{meeting_no}
	</delete>
</mapper>